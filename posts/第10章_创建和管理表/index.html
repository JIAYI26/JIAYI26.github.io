<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JIAYI's Blog</title><meta name=keywords content><meta name=description content="第10章_创建和管理表 讲师：尚硅谷-宋红康（江湖人称：康师傅）
官网：http://www.atguigu.com
 1. 基础知识 1.1 一条数据存储的过程 存储数据是处理数据的第一步。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。
那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。
我们要先创建一个数据库，而不是直接创建数据表呢？
因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是数据库服务器、数据库、数据表、数据表的行与列。
MySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。
1.2 标识符命名规则  数据库名、表名不得超过30个字符，变量名限制为29个 必须只能包含 A–Z, a–z, 0–9, _共63个字符 数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来 保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了  1.3 MySQL中的数据类型    类型 类型举例     整数类型 TINYINT、SMALLINT、MEDIUMINT、INT(或INTEGER)、BIGINT   浮点类型 FLOAT、DOUBLE   定点数类型 DECIMAL   位类型 BIT   日期时间类型 YEAR、TIME、DATE、DATETIME、TIMESTAMP   文本字符串类型 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT   枚举类型 ENUM   集合类型 SET   二进制字符串类型 BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB   JSON类型 JSON对象、JSON数组   空间数据类型 单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION    其中，常用的几类类型介绍如下："><meta name=author content="Me"><link rel=canonical href=https://jiayi26.github.io/posts/%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://xx.mzqcgc.cn/FrbOmxJvq96XDbDPXbiBWM0LU9e3><link rel=icon type=image/png sizes=16x16 href=https://xx.mzqcgc.cn/FrbOmxJvq96XDbDPXbiBWM0LU9e3><link rel=icon type=image/png sizes=32x32 href=https://xx.mzqcgc.cn/FrbOmxJvq96XDbDPXbiBWM0LU9e3><link rel=apple-touch-icon href=https://xx.mzqcgc.cn/FrbOmxJvq96XDbDPXbiBWM0LU9e3><link rel=mask-icon href=https://jiayi26.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content><meta property="og:description" content="第10章_创建和管理表 讲师：尚硅谷-宋红康（江湖人称：康师傅）
官网：http://www.atguigu.com
 1. 基础知识 1.1 一条数据存储的过程 存储数据是处理数据的第一步。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。
那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。
我们要先创建一个数据库，而不是直接创建数据表呢？
因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是数据库服务器、数据库、数据表、数据表的行与列。
MySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。
1.2 标识符命名规则  数据库名、表名不得超过30个字符，变量名限制为29个 必须只能包含 A–Z, a–z, 0–9, _共63个字符 数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来 保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了  1.3 MySQL中的数据类型    类型 类型举例     整数类型 TINYINT、SMALLINT、MEDIUMINT、INT(或INTEGER)、BIGINT   浮点类型 FLOAT、DOUBLE   定点数类型 DECIMAL   位类型 BIT   日期时间类型 YEAR、TIME、DATE、DATETIME、TIMESTAMP   文本字符串类型 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT   枚举类型 ENUM   集合类型 SET   二进制字符串类型 BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB   JSON类型 JSON对象、JSON数组   空间数据类型 单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION    其中，常用的几类类型介绍如下："><meta property="og:type" content="article"><meta property="og:url" content="https://jiayi26.github.io/posts/%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/"><meta property="article:section" content="posts"><meta property="og:site_name" content="JIAYI's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="第10章_创建和管理表 讲师：尚硅谷-宋红康（江湖人称：康师傅）
官网：http://www.atguigu.com
 1. 基础知识 1.1 一条数据存储的过程 存储数据是处理数据的第一步。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。
那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。
我们要先创建一个数据库，而不是直接创建数据表呢？
因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是数据库服务器、数据库、数据表、数据表的行与列。
MySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。
1.2 标识符命名规则  数据库名、表名不得超过30个字符，变量名限制为29个 必须只能包含 A–Z, a–z, 0–9, _共63个字符 数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来 保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了  1.3 MySQL中的数据类型    类型 类型举例     整数类型 TINYINT、SMALLINT、MEDIUMINT、INT(或INTEGER)、BIGINT   浮点类型 FLOAT、DOUBLE   定点数类型 DECIMAL   位类型 BIT   日期时间类型 YEAR、TIME、DATE、DATETIME、TIMESTAMP   文本字符串类型 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT   枚举类型 ENUM   集合类型 SET   二进制字符串类型 BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB   JSON类型 JSON对象、JSON数组   空间数据类型 单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION    其中，常用的几类类型介绍如下："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jiayi26.github.io/posts/"},{"@type":"ListItem","position":2,"name":"","item":"https://jiayi26.github.io/posts/%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"第10章_创建和管理表 讲师：尚硅谷-宋红康（江湖人称：康师傅）\n官网：http://www.atguigu.com\n 1. 基础知识 1.1 一条数据存储的过程 存储数据是处理数据的第一步。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。\n那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。\n我们要先创建一个数据库，而不是直接创建数据表呢？\n因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是数据库服务器、数据库、数据表、数据表的行与列。\nMySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。\n1.2 标识符命名规则  数据库名、表名不得超过30个字符，变量名限制为29个 必须只能包含 A–Z, a–z, 0–9, _共63个字符 数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来 保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了  1.3 MySQL中的数据类型    类型 类型举例     整数类型 TINYINT、SMALLINT、MEDIUMINT、INT(或INTEGER)、BIGINT   浮点类型 FLOAT、DOUBLE   定点数类型 DECIMAL   位类型 BIT   日期时间类型 YEAR、TIME、DATE、DATETIME、TIMESTAMP   文本字符串类型 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT   枚举类型 ENUM   集合类型 SET   二进制字符串类型 BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB   JSON类型 JSON对象、JSON数组   空间数据类型 单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION    其中，常用的几类类型介绍如下：","keywords":[],"articleBody":"第10章_创建和管理表 讲师：尚硅谷-宋红康（江湖人称：康师傅）\n官网：http://www.atguigu.com\n 1. 基础知识 1.1 一条数据存储的过程 存储数据是处理数据的第一步。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。\n那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。\n我们要先创建一个数据库，而不是直接创建数据表呢？\n因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是数据库服务器、数据库、数据表、数据表的行与列。\nMySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。\n1.2 标识符命名规则  数据库名、表名不得超过30个字符，变量名限制为29个 必须只能包含 A–Z, a–z, 0–9, _共63个字符 数据库名、表名、字段名等对象名中间不要包含空格 同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名 必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来 保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了  1.3 MySQL中的数据类型    类型 类型举例     整数类型 TINYINT、SMALLINT、MEDIUMINT、INT(或INTEGER)、BIGINT   浮点类型 FLOAT、DOUBLE   定点数类型 DECIMAL   位类型 BIT   日期时间类型 YEAR、TIME、DATE、DATETIME、TIMESTAMP   文本字符串类型 CHAR、VARCHAR、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT   枚举类型 ENUM   集合类型 SET   二进制字符串类型 BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB   JSON类型 JSON对象、JSON数组   空间数据类型 单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION    其中，常用的几类类型介绍如下：\n   数据类型 描述     INT 从-2^31到2^31-1的整型数据。存储大小为 4个字节   CHAR(size) 定长字符数据。若未指定，默认为1个字符，最大长度255   VARCHAR(size) 可变长字符数据，根据字符串实际长度保存，必须指定长度   FLOAT(M,D) 单精度，占用4个字节，M=整数位+小数位，D=小数位。 D   DOUBLE(M,D) 双精度，占用8个字节，D   DECIMAL(M,D) 高精度小数，占用M+2个字节，D   DATE 日期型数据，格式’YYYY-MM-DD'   BLOB 二进制形式的长文本数据，最大可达4G   TEXT 长文本数据，最大可达4G    2. 创建和管理数据库 2.1 创建数据库  方式1：创建数据库  CREATE DATABASE 数据库名;  方式2：创建数据库并指定字符集  CREATE DATABASE 数据库名 CHARACTER SET 字符集;  方式3：判断数据库是否已经存在，不存在则创建数据库（推荐）  CREATE DATABASE IF NOT EXISTS 数据库名; 如果MySQL中已经存在相关的数据库，则忽略创建语句，不再创建数据库。\n 注意：DATABASE 不能改名。一些可视化工具可以改名，它是建新库，把所有表复制到新库，再删旧库完成的。\n 2.2 使用数据库  查看当前所有的数据库  SHOW DATABASES; #有一个S，代表多个数据库  查看当前正在使用的数据库  SELECT DATABASE(); #使用的一个 mysql 中的全局函数  查看指定库下所有的表  SHOW TABLES FROM 数据库名;  查看数据库的创建信息  SHOW CREATE DATABASE 数据库名; 或者： SHOW CREATE DATABASE 数据库名\\G  使用/切换数据库  USE 数据库名;  注意：要操作表格和数据之前必须先说明是对哪个数据库进行操作，否则就要对所有对象加上“数据库名.”。\n 2.3 修改数据库  更改数据库字符集  ALTER DATABASE 数据库名 CHARACTER SET 字符集; #比如：gbk、utf8等 2.4 删除数据库  方式1：删除指定的数据库  DROP DATABASE 数据库名;  方式2：删除指定的数据库（推荐）  DROP DATABASE IF EXISTS 数据库名; 3. 创建表 3.1 创建方式1  必须具备：  CREATE TABLE权限 存储空间   语法格式：  CREATE TABLE [IF NOT EXISTS] 表名( \t字段1, 数据类型 [约束条件] [默认值], \t字段2, 数据类型 [约束条件] [默认值], \t字段3, 数据类型 [约束条件] [默认值], \t…… \t[表约束条件] );  加上了IF NOT EXISTS关键字，则表示：如果当前数据库中不存在要创建的数据表，则创建数据表；如果当前数据库中已经存在要创建的数据表，则忽略建表语句，不再创建数据表。\n  必须指定：  表名 列名(或字段名)，数据类型，长度   可选指定：  约束条件 默认值   创建表举例1：  -- 创建表 CREATE TABLE emp (  -- int类型  emp_id INT,  -- 最多保存20个中英文字符  emp_name VARCHAR(20),  -- 总位数不超过15位  salary DOUBLE,  -- 日期类型  birthday DATE ); DESC emp; MySQL在执行建表语句时，将id字段的类型设置为int(11)，这里的11实际上是int类型指定的显示宽度，默认的显示宽度为11。也可以在创建数据表的时候指定数据的显示宽度。\n 创建表举例2：  CREATE TABLE dept(  -- int类型，自增 \tdeptno INT(2) AUTO_INCREMENT, \tdname VARCHAR(14), \tloc VARCHAR(13),  -- 主键  PRIMARY KEY (deptno) ); DESCRIBE dept;  在MySQL 8.x版本中，不再推荐为INT类型指定显示长度，并在未来的版本中可能去掉这样的语法。\n 3.2 创建方式2   使用 AS subquery 选项，将创建表和插入数据结合起来\n  指定的列和子查询中的列要一一对应\n  通过列名和默认值定义列\n  CREATE TABLE emp1 AS SELECT * FROM employees;  CREATE TABLE emp2 AS SELECT * FROM employees WHERE 1=2; -- 创建的emp2是空表 CREATE TABLE dept80 AS SELECT employee_id, last_name, salary*12 ANNSAL, hire_date FROM employees WHERE department_id = 80; DESCRIBE dept80; 3.3 查看数据表结构 在MySQL中创建好数据表之后，可以查看数据表的结构。MySQL支持使用DESCRIBE/DESC语句查看数据表结构，也支持使用SHOW CREATE TABLE语句查看数据表结构。\n语法格式如下：\nSHOW CREATE TABLE 表名\\G 使用SHOW CREATE TABLE语句不仅可以查看表创建时的详细语句，还可以查看存储引擎和字符编码。\n4. 修改表 修改表指的是修改数据库中已经存在的数据表的结构。\n使用 ALTER TABLE 语句可以实现：\n  向已有的表中添加列\n  修改现有表中的列\n  删除现有表中的列\n  重命名现有表中的列\n  4.1 追加一个列 语法格式如下：\nALTER TABLE 表名 ADD 【COLUMN】 字段名 字段类型 【FIRST|AFTER 字段名】; 举例：\nALTER TABLE dept80 ADD job_id varchar(15); 4.2 修改一个列   可以修改列的数据类型，长度、默认值和位置\n  修改字段数据类型、长度、默认值、位置的语法格式如下：\n  ALTER TABLE 表名 MODIFY 【COLUMN】 字段名1 字段类型 【DEFAULT 默认值】【FIRST|AFTER 字段名2】;  举例：  ALTER TABLE\tdept80 MODIFY last_name VARCHAR(30); ALTER TABLE\tdept80 MODIFY salary double(9,2) default 1000;  对默认值的修改只影响今后对表的修改 此外，还可以通过此种方式修改列的约束。这里暂先不讲。  4.3 重命名一个列 使用 CHANGE old_column new_column dataType子句重命名列。语法格式如下：\nALTER TABLE 表名 CHANGE 【column】 列名 新列名 新数据类型; 举例：\nALTER TABLE dept80 CHANGE department_name dept_name varchar(15); 4.4 删除一个列 删除表中某个字段的语法格式如下：\nALTER TABLE 表名 DROP 【COLUMN】字段名 举例：\nALTER TABLE dept80 DROP COLUMN job_id; 5. 重命名表  方式一：使用RENAME  RENAME TABLE emp TO myemp;  方式二：  ALTER table dept RENAME [TO] detail_dept; -- [TO]可以省略  必须是对象的拥有者  6. 删除表   在MySQL中，当一张数据表没有与其他任何数据表形成关联关系时，可以将当前数据表直接删除。\n  数据和结构都被删除\n  所有正在运行的相关事务被提交\n  所有相关索引被删除\n  语法格式：\n  DROP TABLE [IF EXISTS] 数据表1 [, 数据表2, …, 数据表n]; IF EXISTS的含义为：如果当前数据库中存在相应的数据表，则删除数据表；如果当前数据库中不存在相应的数据表，则忽略删除语句，不再执行删除数据表的操作。\n 举例：  DROP TABLE dept80;  DROP TABLE 语句不能回滚  7. 清空表   TRUNCATE TABLE语句：\n 删除表中所有的数据 释放表的存储空间    举例：\n  TRUNCATE TABLE detail_dept;   TRUNCATE语句不能回滚，而使用 DELETE 语句删除数据，可以回滚\n  对比：\n  SET autocommit = FALSE;  DELETE FROM emp2; #TRUNCATE TABLE emp2;  SELECT * FROM emp2;  ROLLBACK;  SELECT * FROM emp2;  阿里开发规范：\n【参考】TRUNCATE TABLE 比 DELETE 速度快，且使用的系统和事务日志资源少，但 TRUNCATE 无事务且不触发 TRIGGER，有可能造成事故，故不建议在开发代码中使用此语句。\n说明：TRUNCATE TABLE 在功能上与不带 WHERE 子句的 DELETE 语句相同。\n 8. 内容拓展 拓展1：阿里巴巴《Java开发手册》之MySQL字段命名   【强制】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。\n 正例：aliyun_admin，rdc_config，level3_name 反例：AliyunAdmin，rdcConfig，level_3_name    【强制】禁用保留字，如 desc、range、match、delayed 等，请参考 MySQL 官方保留字。\n  【强制】表必备三字段：id, gmt_create, gmt_modified。\n 说明：其中 id 必为主键，类型为BIGINT UNSIGNED、单表时自增、步长为 1。gmt_create, gmt_modified 的类型均为 DATETIME 类型，前者现在时表示主动式创建，后者过去分词表示被动式更新    【推荐】表的命名最好是遵循 “业务名称_表的作用”。\n 正例：alipay_task 、 force_project、 trade_config    【推荐】库名与应用名称尽量一致。\n  【参考】合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。\n 正例：无符号值可以避免误存负数，且扩大了表示范围。    拓展2：如何理解清空表、删除表等操作需谨慎？！ 表删除操作将把表的定义和表中的数据一起删除，并且MySQL在执行删除操作时，不会有任何的确认信息提示，因此执行删除操时应当慎重。在删除表前，最好对表中的数据进行备份，这样当操作失误时可以对数据进行恢复，以免造成无法挽回的后果。\n同样的，在使用 ALTER TABLE 进行表的基本修改操作时，在执行操作过程之前，也应该确保对数据进行完整的备份，因为数据库的改变是无法撤销的，如果添加了一个不需要的字段，可以将其删除；相同的，如果删除了一个需要的列，该列下面的所有数据都将会丢失。\n拓展3：MySQL8新特性—DDL的原子化 在MySQL 8.0版本中，InnoDB表的DDL支持事务完整性，即DDL操作要么成功要么回滚。DDL操作回滚日志写入到data dictionary数据字典表mysql.innodb_ddl_log（该表是隐藏的表，通过show tables无法看到）中，用于回滚操作。通过设置参数，可将DDL操作日志打印输出到MySQL错误日志中。\n分别在MySQL 5.7版本和MySQL 8.0版本中创建数据库和数据表，结果如下：\nCREATE DATABASE mytest;  USE mytest;  CREATE TABLE book1( book_id INT , book_name VARCHAR(255) );  SHOW TABLES; （1）在MySQL 5.7版本中，测试步骤如下： 删除数据表book1和数据表book2，结果如下：\nmysql DROP TABLE book1,book2; ERROR 1051 (42S02): Unknown table 'mytest.book2' 再次查询数据库中的数据表名称，结果如下：\nmysql SHOW TABLES; Empty set (0.00 sec) 从结果可以看出，虽然删除操作时报错了，但是仍然删除了数据表book1。\n（2）在MySQL 8.0版本中，测试步骤如下： 删除数据表book1和数据表book2，结果如下：\nmysql DROP TABLE book1,book2; ERROR 1051 (42S02): Unknown table 'mytest.book2' 再次查询数据库中的数据表名称，结果如下：\nmysql show tables; +------------------+ | Tables_in_mytest | +------------------+ | book1 | +------------------+ 1 row in set (0.00 sec) 从结果可以看出，数据表book1并没有被删除。\n","wordCount":"614","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jiayi26.github.io/posts/%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/"},"publisher":{"@type":"Organization","name":"JIAYI's Blog","logo":{"@type":"ImageObject","url":"https://xx.mzqcgc.cn/FrbOmxJvq96XDbDPXbiBWM0LU9e3"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jiayi26.github.io/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jiayi26.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jiayi26.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://jiayi26.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://jiayi26.github.io/posts/>Posts</a></div><h1 class=post-title></h1><div class=post-meta>3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/Pass-JIAYI%27s.github.io/post/posts/%e7%ac%ac10%e7%ab%a0_%e5%88%9b%e5%bb%ba%e5%92%8c%e7%ae%a1%e7%90%86%e8%a1%a8.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=第10章_创建和管理表>第10章_创建和管理表<a hidden class=anchor aria-hidden=true href=#第10章_创建和管理表>#</a></h1><p>讲师：尚硅谷-宋红康（江湖人称：康师傅）</p><p>官网：<a href=http://www.atguigu.com/>http://www.atguigu.com</a></p><hr><h2 id=1-基础知识>1. 基础知识<a hidden class=anchor aria-hidden=true href=#1-基础知识>#</a></h2><h3 id=11-一条数据存储的过程>1.1 一条数据存储的过程<a hidden class=anchor aria-hidden=true href=#11-一条数据存储的过程>#</a></h3><p><code>存储数据是处理数据的第一步</code>。只有正确地把数据存储起来，我们才能进行有效的处理和分析。否则，只能是一团乱麻，无从下手。</p><p>那么，怎样才能把用户各种经营相关的、纷繁复杂的数据，有序、高效地存储起来呢？ 在 MySQL 中，一个完整的数据存储过程总共有 4 步，分别是创建数据库、确认字段、创建数据表、插入数据。</p><p><img loading=lazy src=../_resources/image-20211007155810920.png alt=image-20211007155810920></p><p>我们要先创建一个数据库，而不是直接创建数据表呢？</p><p>因为从系统架构的层次上看，MySQL 数据库系统从大到小依次是<code>数据库服务器</code>、<code>数据库</code>、<code>数据表</code>、数据表的<code>行与列</code>。</p><p>MySQL 数据库服务器之前已经安装。所以，我们就从创建数据库开始。</p><h3 id=12-标识符命名规则>1.2 标识符命名规则<a hidden class=anchor aria-hidden=true href=#12-标识符命名规则>#</a></h3><ul><li>数据库名、表名不得超过30个字符，变量名限制为29个</li><li>必须只能包含 A–Z, a–z, 0–9, _共63个字符</li><li>数据库名、表名、字段名等对象名中间不要包含空格</li><li>同一个MySQL软件中，数据库不能同名；同一个库中，表不能重名；同一个表中，字段不能重名</li><li>必须保证你的字段没有和保留字、数据库系统或常用方法冲突。如果坚持使用，请在SQL语句中使用`（着重号）引起来</li><li>保持字段名和类型的一致性：在命名字段并为其指定数据类型的时候一定要保证一致性，假如数据类型在一个表里是整数，那在另一个表里可就别变成字符型了</li></ul><h3 id=13-mysql中的数据类型>1.3 MySQL中的数据类型<a hidden class=anchor aria-hidden=true href=#13-mysql中的数据类型>#</a></h3><table><thead><tr><th>类型</th><th>类型举例</th></tr></thead><tbody><tr><td>整数类型</td><td>TINYINT、SMALLINT、MEDIUMINT、<strong>INT(或INTEGER)</strong>、BIGINT</td></tr><tr><td>浮点类型</td><td>FLOAT、DOUBLE</td></tr><tr><td>定点数类型</td><td><strong>DECIMAL</strong></td></tr><tr><td>位类型</td><td>BIT</td></tr><tr><td>日期时间类型</td><td>YEAR、TIME、<strong>DATE</strong>、DATETIME、TIMESTAMP</td></tr><tr><td>文本字符串类型</td><td>CHAR、<strong>VARCHAR</strong>、TINYTEXT、TEXT、MEDIUMTEXT、LONGTEXT</td></tr><tr><td>枚举类型</td><td>ENUM</td></tr><tr><td>集合类型</td><td>SET</td></tr><tr><td>二进制字符串类型</td><td>BINARY、VARBINARY、TINYBLOB、BLOB、MEDIUMBLOB、LONGBLOB</td></tr><tr><td>JSON类型</td><td>JSON对象、JSON数组</td></tr><tr><td>空间数据类型</td><td>单值：GEOMETRY、POINT、LINESTRING、POLYGON；集合：MULTIPOINT、MULTILINESTRING、MULTIPOLYGON、GEOMETRYCOLLECTION</td></tr></tbody></table><p>其中，常用的几类类型介绍如下：</p><table><thead><tr><th>数据类型</th><th>描述</th></tr></thead><tbody><tr><td>INT</td><td>从-2^31到2^31-1的整型数据。存储大小为 4个字节</td></tr><tr><td>CHAR(size)</td><td>定长字符数据。若未指定，默认为1个字符，最大长度255</td></tr><tr><td>VARCHAR(size)</td><td>可变长字符数据，根据字符串实际长度保存，<strong>必须指定长度</strong></td></tr><tr><td>FLOAT(M,D)</td><td>单精度，占用4个字节，M=整数位+小数位，D=小数位。 D&lt;=M&lt;=255,0&lt;=D&lt;=30，默认M+D&lt;=6</td></tr><tr><td>DOUBLE(M,D)</td><td>双精度，占用8个字节，D&lt;=M&lt;=255,0&lt;=D&lt;=30，默认M+D&lt;=15</td></tr><tr><td>DECIMAL(M,D)</td><td>高精度小数，占用M+2个字节，D&lt;=M&lt;=65，0&lt;=D&lt;=30，最大取值范围与DOUBLE相同。</td></tr><tr><td>DATE</td><td>日期型数据，格式&rsquo;YYYY-MM-DD'</td></tr><tr><td>BLOB</td><td>二进制形式的长文本数据，最大可达4G</td></tr><tr><td>TEXT</td><td>长文本数据，最大可达4G</td></tr></tbody></table><h2 id=2-创建和管理数据库>2. 创建和管理数据库<a hidden class=anchor aria-hidden=true href=#2-创建和管理数据库>#</a></h2><h3 id=21-创建数据库>2.1 创建数据库<a hidden class=anchor aria-hidden=true href=#21-创建数据库>#</a></h3><ul><li>方式1：创建数据库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>; 
</span></span></code></pre></div><ul><li>方式2：创建数据库并指定字符集</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> <span style=color:#960050;background-color:#1e0010>字符集</span>;
</span></span></code></pre></div><ul><li>方式3：判断数据库是否已经存在，不存在则创建数据库（<code>推荐</code>）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>; 
</span></span></code></pre></div><p>如果MySQL中已经存在相关的数据库，则忽略创建语句，不再创建数据库。</p><blockquote><p>注意：DATABASE 不能改名。一些可视化工具可以改名，它是建新库，把所有表复制到新库，再删旧库完成的。</p></blockquote><h3 id=22-使用数据库>2.2 使用数据库<a hidden class=anchor aria-hidden=true href=#22-使用数据库>#</a></h3><ul><li>查看当前所有的数据库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>DATABASES</span>; <span style=color:#75715e>#有一个S，代表多个数据库
</span></span></span></code></pre></div><ul><li>查看当前正在使用的数据库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#66d9ef>DATABASE</span>();  <span style=color:#75715e>#使用的一个 mysql 中的全局函数
</span></span></span></code></pre></div><ul><li>查看指定库下所有的表</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span> <span style=color:#66d9ef>FROM</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</span></span></code></pre></div><ul><li>查看数据库的创建信息</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>或者：</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名\</span>G
</span></span></code></pre></div><ul><li>使用/切换数据库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>USE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</span></span></code></pre></div><blockquote><p>注意：要操作表格和数据之前必须先说明是对哪个数据库进行操作，否则就要对所有对象加上“数据库名.”。</p></blockquote><h3 id=23-修改数据库>2.3 修改数据库<a hidden class=anchor aria-hidden=true href=#23-修改数据库>#</a></h3><ul><li>更改数据库字符集</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span> <span style=color:#66d9ef>CHARACTER</span> <span style=color:#66d9ef>SET</span> <span style=color:#960050;background-color:#1e0010>字符集</span>;  <span style=color:#75715e>#比如：gbk、utf8等
</span></span></span></code></pre></div><h3 id=24-删除数据库>2.4 删除数据库<a hidden class=anchor aria-hidden=true href=#24-删除数据库>#</a></h3><ul><li>方式1：删除指定的数据库</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</span></span></code></pre></div><ul><li>方式2：删除指定的数据库（<code>推荐</code>）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>DATABASE</span> <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span> <span style=color:#960050;background-color:#1e0010>数据库名</span>;
</span></span></code></pre></div><h2 id=3-创建表>3. 创建表<a hidden class=anchor aria-hidden=true href=#3-创建表>#</a></h2><h3 id=31-创建方式1>3.1 创建方式1<a hidden class=anchor aria-hidden=true href=#31-创建方式1>#</a></h3><ul><li><strong>必须具备：</strong><ul><li>CREATE TABLE权限</li><li>存储空间</li></ul></li><li><strong>语法格式：</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> [<span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span>] <span style=color:#960050;background-color:#1e0010>表名</span>(
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>字段</span><span style=color:#ae81ff>1</span>, <span style=color:#960050;background-color:#1e0010>数据类型</span> [<span style=color:#960050;background-color:#1e0010>约束条件</span>] [<span style=color:#960050;background-color:#1e0010>默认值</span>],
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>字段</span><span style=color:#ae81ff>2</span>, <span style=color:#960050;background-color:#1e0010>数据类型</span> [<span style=color:#960050;background-color:#1e0010>约束条件</span>] [<span style=color:#960050;background-color:#1e0010>默认值</span>],
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>字段</span><span style=color:#ae81ff>3</span>, <span style=color:#960050;background-color:#1e0010>数据类型</span> [<span style=color:#960050;background-color:#1e0010>约束条件</span>] [<span style=color:#960050;background-color:#1e0010>默认值</span>],
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>……</span>
</span></span><span style=display:flex><span>	[<span style=color:#960050;background-color:#1e0010>表约束条件</span>]
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><blockquote><p>加上了IF NOT EXISTS关键字，则表示：如果当前数据库中不存在要创建的数据表，则创建数据表；如果当前数据库中已经存在要创建的数据表，则忽略建表语句，不再创建数据表。</p></blockquote><ul><li><strong>必须指定：</strong><ul><li>表名</li><li>列名(或字段名)，数据类型，<strong>长度</strong></li></ul></li><li><strong>可选指定：</strong><ul><li>约束条件</li><li>默认值</li></ul></li><li>创建表举例1：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#75715e>-- 创建表
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>emp</span> (
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- int类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  emp_id <span style=color:#66d9ef>INT</span>,
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- 最多保存20个中英文字符
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  emp_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>20</span>),
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- 总位数不超过15位
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  salary <span style=color:#66d9ef>DOUBLE</span>,
</span></span><span style=display:flex><span>  <span style=color:#75715e>-- 日期类型
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  birthday <span style=color:#66d9ef>DATE</span>
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DESC</span> emp;
</span></span></code></pre></div><p><img loading=lazy src=../_resources/image-20211016160557995.png alt=image-20211016160557995></p><p>MySQL在执行建表语句时，将id字段的类型设置为int(11)，这里的11实际上是int类型指定的显示宽度，默认的显示宽度为11。也可以在创建数据表的时候指定数据的显示宽度。</p><ul><li>创建表举例2：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>dept</span>(
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- int类型，自增
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	deptno <span style=color:#66d9ef>INT</span>(<span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>AUTO_INCREMENT</span>,
</span></span><span style=display:flex><span>	dname <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>14</span>),
</span></span><span style=display:flex><span>	loc <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>13</span>),
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- 主键
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span> (deptno)
</span></span><span style=display:flex><span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DESCRIBE</span> dept;
</span></span></code></pre></div><p><img loading=lazy src=../_resources/image-20211016160643445.png alt=image-20211016160643445></p><blockquote><p>在MySQL 8.x版本中，不再推荐为INT类型指定显示长度，并在未来的版本中可能去掉这样的语法。</p></blockquote><h3 id=32-创建方式2>3.2 创建方式2<a hidden class=anchor aria-hidden=true href=#32-创建方式2>#</a></h3><ul><li><p>使用 AS subquery 选项，<strong>将创建表和插入数据结合起来</strong></p><p><img loading=lazy src=../_resources/1554997882872.png alt=1554997882872></p></li><li><p>指定的列和子查询中的列要一一对应</p></li><li><p>通过列名和默认值定义列</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> emp1 <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> emp2 <span style=color:#66d9ef>AS</span> <span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> employees <span style=color:#66d9ef>WHERE</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>; <span style=color:#75715e>-- 创建的emp2是空表
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> dept80
</span></span><span style=display:flex><span><span style=color:#66d9ef>AS</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span>  employee_id, last_name, salary<span style=color:#f92672>*</span><span style=color:#ae81ff>12</span> ANNSAL, hire_date
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span>    employees
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span>   department_id <span style=color:#f92672>=</span> <span style=color:#ae81ff>80</span>;
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DESCRIBE</span> dept80;
</span></span></code></pre></div><p><img loading=lazy src=../_resources/1554997998148.png alt=1554997998148></p><p><img loading=lazy src=../_resources/1554998004494.png alt=1554998004494></p><h3 id=33-查看数据表结构>3.3 查看数据表结构<a hidden class=anchor aria-hidden=true href=#33-查看数据表结构>#</a></h3><p>在MySQL中创建好数据表之后，可以查看数据表的结构。MySQL支持使用<code>DESCRIBE/DESC</code>语句查看数据表结构，也支持使用<code>SHOW CREATE TABLE</code>语句查看数据表结构。</p><p>语法格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名\</span>G
</span></span></code></pre></div><p>使用SHOW CREATE TABLE语句不仅可以查看表创建时的详细语句，还可以查看存储引擎和字符编码。</p><h2 id=4-修改表>4. 修改表<a hidden class=anchor aria-hidden=true href=#4-修改表>#</a></h2><p>修改表指的是修改数据库中已经存在的数据表的结构。</p><p><strong>使用 ALTER TABLE 语句可以实现：</strong></p><ul><li><p>向已有的表中添加列</p></li><li><p>修改现有表中的列</p></li><li><p>删除现有表中的列</p></li><li><p>重命名现有表中的列</p></li></ul><h3 id=41-追加一个列>4.1 追加一个列<a hidden class=anchor aria-hidden=true href=#41-追加一个列>#</a></h3><p>语法格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>ADD</span> <span style=color:#960050;background-color:#1e0010>【</span><span style=color:#66d9ef>COLUMN</span><span style=color:#960050;background-color:#1e0010>】</span> <span style=color:#960050;background-color:#1e0010>字段名</span> <span style=color:#960050;background-color:#1e0010>字段类型</span> <span style=color:#960050;background-color:#1e0010>【</span>FIRST<span style=color:#f92672>|</span>AFTER <span style=color:#960050;background-color:#1e0010>字段名】</span>;
</span></span></code></pre></div><p>举例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> dept80 
</span></span><span style=display:flex><span><span style=color:#66d9ef>ADD</span> job_id <span style=color:#66d9ef>varchar</span>(<span style=color:#ae81ff>15</span>);
</span></span></code></pre></div><p><img loading=lazy src=../_resources/1554998139815.png alt=1554998139815></p><h3 id=42-修改一个列>4.2 修改一个列<a hidden class=anchor aria-hidden=true href=#42-修改一个列>#</a></h3><ul><li><p>可以修改列的数据类型，长度、默认值和位置</p></li><li><p>修改字段数据类型、长度、默认值、位置的语法格式如下：</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> MODIFY <span style=color:#960050;background-color:#1e0010>【</span><span style=color:#66d9ef>COLUMN</span><span style=color:#960050;background-color:#1e0010>】</span> <span style=color:#960050;background-color:#1e0010>字段名</span><span style=color:#ae81ff>1</span> <span style=color:#960050;background-color:#1e0010>字段类型</span> <span style=color:#960050;background-color:#1e0010>【</span><span style=color:#66d9ef>DEFAULT</span> <span style=color:#960050;background-color:#1e0010>默认值】【</span>FIRST<span style=color:#f92672>|</span>AFTER <span style=color:#960050;background-color:#1e0010>字段名</span><span style=color:#ae81ff>2</span><span style=color:#960050;background-color:#1e0010>】</span>;
</span></span></code></pre></div><ul><li>举例：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span>	dept80
</span></span><span style=display:flex><span>MODIFY last_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>30</span>);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span>	dept80
</span></span><span style=display:flex><span>MODIFY salary <span style=color:#66d9ef>double</span>(<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>2</span>) <span style=color:#66d9ef>default</span> <span style=color:#ae81ff>1000</span>;
</span></span></code></pre></div><ul><li>对默认值的修改只影响今后对表的修改</li><li>此外，还可以通过此种方式修改列的约束。这里暂先不讲。</li></ul><h3 id=43-重命名一个列>4.3 重命名一个列<a hidden class=anchor aria-hidden=true href=#43-重命名一个列>#</a></h3><p>使用 CHANGE old_column new_column dataType子句重命名列。语法格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>CHANGE</span> <span style=color:#960050;background-color:#1e0010>【</span><span style=color:#66d9ef>column</span><span style=color:#960050;background-color:#1e0010>】</span> <span style=color:#960050;background-color:#1e0010>列名</span> <span style=color:#960050;background-color:#1e0010>新列名</span> <span style=color:#960050;background-color:#1e0010>新数据类型</span>;
</span></span></code></pre></div><p>举例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span>  dept80
</span></span><span style=display:flex><span><span style=color:#66d9ef>CHANGE</span> department_name dept_name <span style=color:#66d9ef>varchar</span>(<span style=color:#ae81ff>15</span>); 
</span></span></code></pre></div><h3 id=44-删除一个列>4.4 删除一个列<a hidden class=anchor aria-hidden=true href=#44-删除一个列>#</a></h3><p>删除表中某个字段的语法格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#960050;background-color:#1e0010>表名</span> <span style=color:#66d9ef>DROP</span> <span style=color:#960050;background-color:#1e0010>【</span><span style=color:#66d9ef>COLUMN</span><span style=color:#960050;background-color:#1e0010>】字段名</span>
</span></span></code></pre></div><p>举例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>TABLE</span>  dept80
</span></span><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>COLUMN</span>  job_id; 
</span></span></code></pre></div><h2 id=5-重命名表>5. 重命名表<a hidden class=anchor aria-hidden=true href=#5-重命名表>#</a></h2><ul><li>方式一：使用RENAME</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>RENAME</span> <span style=color:#66d9ef>TABLE</span> emp
</span></span><span style=display:flex><span><span style=color:#66d9ef>TO</span> myemp;
</span></span></code></pre></div><ul><li>方式二：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>ALTER</span> <span style=color:#66d9ef>table</span> dept
</span></span><span style=display:flex><span><span style=color:#66d9ef>RENAME</span> [<span style=color:#66d9ef>TO</span>] detail_dept;  <span style=color:#75715e>-- [TO]可以省略
</span></span></span></code></pre></div><ul><li>必须是对象的拥有者</li></ul><h2 id=6-删除表>6. 删除表<a hidden class=anchor aria-hidden=true href=#6-删除表>#</a></h2><ul><li><p>在MySQL中，当一张数据表<code>没有与其他任何数据表形成关联关系</code>时，可以将当前数据表直接删除。</p></li><li><p>数据和结构都被删除</p></li><li><p>所有正在运行的相关事务被提交</p></li><li><p>所有相关索引被删除</p></li><li><p>语法格式：</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> [<span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>EXISTS</span>] <span style=color:#960050;background-color:#1e0010>数据表</span><span style=color:#ae81ff>1</span> [, <span style=color:#960050;background-color:#1e0010>数据表</span><span style=color:#ae81ff>2</span>, <span style=color:#960050;background-color:#1e0010>…</span>, <span style=color:#960050;background-color:#1e0010>数据表</span>n];
</span></span></code></pre></div><p><code>IF EXISTS</code>的含义为：如果当前数据库中存在相应的数据表，则删除数据表；如果当前数据库中不存在相应的数据表，则忽略删除语句，不再执行删除数据表的操作。</p><ul><li>举例：</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> dept80;
</span></span></code></pre></div><ul><li>DROP TABLE 语句不能回滚</li></ul><h2 id=7-清空表>7. 清空表<a hidden class=anchor aria-hidden=true href=#7-清空表>#</a></h2><ul><li><p>TRUNCATE TABLE语句：</p><ul><li>删除表中所有的数据</li><li>释放表的存储空间</li></ul></li><li><p>举例：</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>TRUNCATE <span style=color:#66d9ef>TABLE</span> detail_dept;
</span></span></code></pre></div><ul><li><p>TRUNCATE语句<strong>不能回滚</strong>，而使用 DELETE 语句删除数据，可以回滚</p></li><li><p>对比：</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>SET</span> autocommit <span style=color:#f92672>=</span> <span style=color:#66d9ef>FALSE</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>DELETE</span> <span style=color:#66d9ef>FROM</span> emp2; 
</span></span><span style=display:flex><span><span style=color:#75715e>#TRUNCATE TABLE emp2;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> emp2;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>ROLLBACK;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> emp2;
</span></span></code></pre></div><blockquote><p>阿里开发规范：</p><p>【参考】TRUNCATE TABLE 比 DELETE 速度快，且使用的系统和事务日志资源少，但 TRUNCATE 无事务且不触发 TRIGGER，有可能造成事故，故不建议在开发代码中使用此语句。</p><p>说明：TRUNCATE TABLE 在功能上与不带 WHERE 子句的 DELETE 语句相同。</p></blockquote><h2 id=8-内容拓展>8. 内容拓展<a hidden class=anchor aria-hidden=true href=#8-内容拓展>#</a></h2><h3 id=拓展1阿里巴巴java开发手册之mysql字段命名>拓展1：阿里巴巴《Java开发手册》之MySQL字段命名<a hidden class=anchor aria-hidden=true href=#拓展1阿里巴巴java开发手册之mysql字段命名>#</a></h3><ul><li><p>【<code>强制</code>】表名、字段名必须使用小写字母或数字，禁止出现数字开头，禁止两个下划线中间只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。</p><ul><li>正例：aliyun_admin，rdc_config，level3_name</li><li>反例：AliyunAdmin，rdcConfig，level_3_name</li></ul></li><li><p>【<code>强制</code>】禁用保留字，如 desc、range、match、delayed 等，请参考 MySQL 官方保留字。</p></li><li><p>【<code>强制</code>】表必备三字段：id, gmt_create, gmt_modified。</p><ul><li>说明：其中 id 必为主键，类型为BIGINT UNSIGNED、单表时自增、步长为 1。gmt_create, gmt_modified 的类型均为 DATETIME 类型，前者现在时表示主动式创建，后者过去分词表示被动式更新</li></ul></li><li><p>【<code>推荐</code>】表的命名最好是遵循 “业务名称_表的作用”。</p><ul><li>正例：alipay_task 、 force_project、 trade_config</li></ul></li><li><p>【<code>推荐</code>】库名与应用名称尽量一致。</p></li><li><p>【参考】合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检索速度。</p><ul><li>正例：无符号值可以避免误存负数，且扩大了表示范围。</li></ul><p><img loading=lazy src=../_resources/image-20211024012735469.png alt=image-20211024012735469></p></li></ul><h3 id=拓展2如何理解清空表删除表等操作需谨慎>拓展2：如何理解清空表、删除表等操作需谨慎？！<a hidden class=anchor aria-hidden=true href=#拓展2如何理解清空表删除表等操作需谨慎>#</a></h3><p><code>表删除</code>操作将把表的定义和表中的数据一起删除，并且MySQL在执行删除操作时，不会有任何的确认信息提示，因此执行删除操时应当慎重。在删除表前，最好对表中的数据进行<code>备份</code>，这样当操作失误时可以对数据进行恢复，以免造成无法挽回的后果。</p><p>同样的，在使用 <code>ALTER TABLE</code> 进行表的基本修改操作时，在执行操作过程之前，也应该确保对数据进行完整的<code>备份</code>，因为数据库的改变是<code>无法撤销</code>的，如果添加了一个不需要的字段，可以将其删除；相同的，如果删除了一个需要的列，该列下面的所有数据都将会丢失。</p><h3 id=拓展3mysql8新特性ddl的原子化>拓展3：MySQL8新特性—DDL的原子化<a hidden class=anchor aria-hidden=true href=#拓展3mysql8新特性ddl的原子化>#</a></h3><p>在MySQL 8.0版本中，InnoDB表的DDL支持事务完整性，即<code>DDL操作要么成功要么回滚</code>。DDL操作回滚日志写入到data dictionary数据字典表mysql.innodb_ddl_log（该表是隐藏的表，通过show tables无法看到）中，用于回滚操作。通过设置参数，可将DDL操作日志打印输出到MySQL错误日志中。</p><p>分别在MySQL 5.7版本和MySQL 8.0版本中创建数据库和数据表，结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>DATABASE</span> mytest;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>USE</span> mytest;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> <span style=color:#a6e22e>book1</span>(
</span></span><span style=display:flex><span>book_id <span style=color:#66d9ef>INT</span> ,
</span></span><span style=display:flex><span>book_name <span style=color:#66d9ef>VARCHAR</span>(<span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span>;
</span></span></code></pre></div><p>（1）在MySQL 5.7版本中，测试步骤如下：
删除数据表book1和数据表book2，结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> book1,book2;
</span></span><span style=display:flex><span>ERROR <span style=color:#ae81ff>1051</span> (<span style=color:#ae81ff>42</span>S02): Unknown <span style=color:#66d9ef>table</span> <span style=color:#e6db74>&#39;mytest.book2&#39;</span>
</span></span></code></pre></div><p>再次查询数据库中的数据表名称，结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>SHOW</span> <span style=color:#66d9ef>TABLES</span>;
</span></span><span style=display:flex><span>Empty <span style=color:#66d9ef>set</span> (<span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>00</span> sec)
</span></span></code></pre></div><p>从结果可以看出，虽然删除操作时报错了，但是仍然删除了数据表book1。</p><p>（2）在MySQL 8.0版本中，测试步骤如下：
删除数据表book1和数据表book2，结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>DROP</span> <span style=color:#66d9ef>TABLE</span> book1,book2;
</span></span><span style=display:flex><span>ERROR <span style=color:#ae81ff>1051</span> (<span style=color:#ae81ff>42</span>S02): Unknown <span style=color:#66d9ef>table</span> <span style=color:#e6db74>&#39;mytest.book2&#39;</span>
</span></span></code></pre></div><p>再次查询数据库中的数据表名称，结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-mysql data-lang=mysql><span style=display:flex><span>mysql<span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>show</span> <span style=color:#66d9ef>tables</span>;
</span></span><span style=display:flex><span><span style=color:#f92672>+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> Tables_in_mytest <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|</span> book1            <span style=color:#f92672>|</span>
</span></span><span style=display:flex><span><span style=color:#f92672>+------------------+</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> row <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>set</span> (<span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>00</span> sec)
</span></span></code></pre></div><p>从结果可以看出，数据表book1并没有被删除。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://jiayi26.github.io/posts/%E7%AC%AC09%E7%AB%A0_%E5%AD%90%E6%9F%A5%E8%AF%A2/><span class=title>« Prev Page</span><br><span></span></a>
<a class=next href=https://jiayi26.github.io/posts/%E7%AC%AC11%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B9%8B%E5%A2%9E%E5%88%A0%E6%94%B9/><span class=title>Next Page »</span><br><span></span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share  on twitter" href="https://twitter.com/intent/tweet/?text=&url=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share  on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f&title=&summary=&source=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share  on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f&title="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share  on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share  on whatsapp" href="https://api.whatsapp.com/send?text=%20-%20https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share  on telegram" href="https://telegram.me/share/url?text=&url=https%3a%2f%2fjiayi26.github.io%2fposts%2f%25E7%25AC%25AC10%25E7%25AB%25A0_%25E5%2588%259B%25E5%25BB%25BA%25E5%2592%258C%25E7%25AE%25A1%25E7%2590%2586%25E8%25A1%25A8%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://jiayi26.github.io/>JIAYI's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>